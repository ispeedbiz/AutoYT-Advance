# ğŸš€ AutoYT-Advance: Ultra-Intelligent YouTube Automation Pipeline

## âš¡ **The Most Advanced AI-Powered Video Generation System**

**AutoYT-Advance** is a revolutionary, **enterprise-grade YouTube automation pipeline** that creates **cinema-quality videos** with **zero human intervention**. This isn't just automationâ€”it's **AI orchestration** at its finest.

### ğŸ¯ **What Makes This Extraordinary?**

ğŸ§  **AI Director**: Advanced scene detection with emotional arc analysis  
ğŸ¨ **Ultra-Quality Visuals**: ComfyUI integration for **2K+ resolution** images  
ğŸ—£ï¸ **Professional Narration**: ElevenLabs with **natural Hindi/English** synthesis  
ğŸµ **Smart Music Selection**: Content-aware background music with **dynamic volume**  
ğŸ”„ **Self-Improving**: Automated feedback loops with **quality optimization**  
ğŸ“Š **Cost-Effective**: **$0.50-1.39 per video** vs $100-500 traditional production  
âš¡ **Lightning Fast**: **95% time savings** - 15 minutes vs 8-16 hours  
ğŸ—‚ï¸ **Production-Ready**: Enterprise folder structure with **security built-in**

### ğŸŒŸ **Unique Advanced Features**

- **ğŸ¤– AI Scene Detection**: Automatically identifies optimal scene breaks using GPT-4
- **ğŸ¬ Dynamic Pacing**: Adapts scene duration based on content complexity and emotion
- **ğŸ” Quality Control**: Multi-stage AI quality assessment with automatic regeneration
- **ğŸ“ˆ Retention Optimization**: Strategic engagement hooks for maximum viewer retention
- **ğŸ­ Emotional Intelligence**: Semantic analysis for mood-appropriate music selection
- **ğŸ–¼ï¸ Metaphor-Rich Visuals**: Advanced prompt engineering for cinematic storytelling
- **ğŸ“± Caption System**: Burned-in subtitles with Hindi/English font optimization
- **ğŸ”§ Video Interpolation**: RIFE/DAIN frame interpolation for smooth transitions

> **For Basic YouTube Automation**: Check out our simpler pipeline at [ispeedbiz/autoyt](https://github.com/ispeedbiz/autoyt) 
> 
> **For Enterprise-Grade AI Production**: You're in the right place! ğŸ¬

## ğŸš€ Recent Updates & Fixes

### âœ… **Python 3.11 Compatibility Confirmed**
- **Issue Resolved**: moviepy import errors with Python 3.13
- **Solution**: Use Python 3.11 + moviepy 1.0.3 (stable version)
- **Status**: All features working including burned-in captions

### âœ… **Caption System Operational**
- **Hindi Captions**: Noto Sans Devanagari font support
- **English Captions**: Arial Bold font support  
- **Features**: Semi-transparent background, bottom positioning
- **Requirement**: ImageMagick (install with `brew install imagemagick`)

### âœ… **Background Music Volume Fixed**
- **Updated**: Volume levels from -20dB to -10dB range
- **Result**: More audible background music while preserving narration clarity
- **Smart Selection**: Content-aware music matching

### âœ… **Feedback Loop System Active**
- **Status**: Feedback files are being generated
- **Location**: `videos/[video_folder]/feedback/`
- **Structure**: Ready for team input and iterative improvement

## ğŸ¬ Features

### ğŸ¤– **Core Video Generation**
- **AI-Powered Script Generation** - Creates engaging, emotionally resonant scripts in Hindi/English
- **Advanced Image Generation** - Ultra-quality images with metaphor-rich prompts and ComfyUI integration
- **Professional Audio Narration** - ElevenLabs TTS with natural Hindi/English voice synthesis
- **Intelligent Background Music** - Content-aware music selection from 6 curated tracks
- **Dynamic Scene Duration** - Adaptive scene timing based on content type and emotional tone
- **Automated Video Assembly** - Seamless integration of images, audio, and background music
- **Burned-in Captions** - Multi-language support with proper fonts and positioning

### ğŸ¤– **Advanced AI Features**
- **Semantic Content Analysis** - Deep understanding of script structure and emotional arcs
- **AI Scene Detection** - Intelligent scene break detection using GPT-4
- **Dynamic Pacing Optimization** - Content-aware timing adjustments for better engagement
- **Retention Optimization** - Strategic placement of engagement hooks and transitions
- **Automated Feedback Loop** - Continuous quality improvement through AI analysis
- **Quality Filtering** - Multi-criteria quality assessment for generated content

### ğŸµ **Intelligent Audio Processing**
- **Content-Aware Music Selection** - Analyzes script content to select optimal background music
- **Dynamic Volume Adjustment** - Emotion-based volume balancing for optimal listening experience
- **6 Curated Music Tracks** - Professionally selected instrumental tracks for different moods:
  - **Pensive Piano** - Contemplative, low energy (stories, lessons)
  - **Serenity** - Peaceful, uplifting (motivation, reflection)
  - **Renunciation** - Dramatic, medium energy (tense content)
  - **T'as oÃ¹ les vaches** - Playful, positive (motivation, stories)
  - **Dreamland** - Dreamy, reflective (philosophical content)
  - **AllÃ©gro** - Energetic, fast tempo (exciting content)

### ğŸ“Š **Smart Content Optimization**
- **Duration-Aware Script Splitting** - Adapts scene count to target video length
- **Flexible Content Processing** - Respects natural breaks and narrative flow
- **Emotional Arc Analysis** - Optimizes pacing based on content emotional journey
- **Complexity Profiling** - Adjusts scene duration based on content complexity
- **User Feedback Integration** - Learns from user preferences for continuous improvement

### ğŸ”§ **Production Features**
- **Google Sheets Integration** - Automated workflow management
- **YouTube Upload** - Direct upload with custom thumbnails and metadata
- **Batch Processing** - Handle multiple videos efficiently
- **Error Recovery** - Robust fallback mechanisms and error handling
- **Quality Assurance** - Multi-stage quality checks and validation

## ğŸ¯ What's New

### 1. RIFE/DAIN Video Interpolation
- **Smooth transitions** between images using AI frame interpolation
- **Cinematic quality** with professional-looking video output
- **Configurable methods** - RIFE (faster) or DAIN (higher quality)
- **Automatic fallback** to traditional slideshow if interpolation fails

### 2. LLM Video Generation
- **Complete video planning** using advanced LLMs
- **Scene breakdowns** with detailed visual and audio instructions
- **Editing guidance** with professional post-production recommendations
- **Thumbnail concepts** generated from video content analysis

### 3. Automated Feedback Loop
- **Self-improving content** that regenerates failed outputs
- **Quality optimization** with multiple attempts until success
- **Comprehensive feedback tracking** with detailed reports
- **Intelligent prompt improvement** based on quality analysis

## ğŸ¬ Duration-Aware Script Splitting

The system now intelligently splits scripts based on target video duration, ensuring optimal scene distribution:

### Duration-Based Scene Allocation
- **1 minute videos**: 5 scenes (~12 seconds each)
- **2 minute videos**: 8 scenes (~15 seconds each)  
- **3 minute videos**: 10 scenes (~18 seconds each)
- **5 minute videos**: 12 scenes (~25 seconds each)
- **Longer videos**: 15+ scenes (~20 seconds each)

### Smart Scene Distribution
- Automatically parses duration from Google Sheets data
- Splits scripts into optimally-sized blocks
- Ensures no empty scenes or overly long segments
- Maintains narrative flow and timing consistency
- Each scene limited to maximum 20 seconds for engagement

### Benefits
- âœ… **Efficient resource usage**: Only generates needed images
- âœ… **Better pacing**: Scenes match video duration requirements
- âœ… **Consistent timing**: Each scene optimized for viewer engagement
- âœ… **Automatic scaling**: Adapts to any video length
- âœ… **Quality assurance**: No empty or malformed scenes

## ğŸ“‹ System Requirements

### **Recommended Setup**
- **Python 3.11** (confirmed compatible - recommended)
- **moviepy 1.0.3** (stable version that works)
- **ImageMagick** (for caption text rendering)
- **FFmpeg** (for video processing)
- **macOS/Linux** (tested and working)

### **Python Dependencies**
```bash
# Essential packages
openai>=1.0.0
elevenlabs>=2.0.0
moviepy==1.0.3  # Specific version for compatibility
pydub>=0.25.1
google-api-python-client>=2.0.0
gspread>=6.0.0
pillow>=10.0.0
requests>=2.31.0
```

## ğŸ› ï¸ Installation

### **1. Prerequisites**
```bash
# Install system dependencies
brew install imagemagick ffmpeg  # macOS
# sudo apt-get install imagemagick ffmpeg  # Ubuntu/Debian
```

### **2. ComfyUI Setup (Ultra-Quality Image Generation)**

**âš ï¸ CRITICAL: ComfyUI server must be running before executing main.py**

```bash
# Install ComfyUI (one-time setup)
git clone https://github.com/comfyanonymous/ComfyUI.git
cd ComfyUI

# Install ComfyUI dependencies
pip install -r requirements.txt

# Download SDXL model (required for ultra-quality)
# Place in: ComfyUI/models/checkpoints/
wget https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0/resolve/main/sd_xl_base_1.0.safetensors

# Start ComfyUI server (MUST be running during video generation)
python main.py --listen 127.0.0.1 --port 8188

# Keep this terminal open - server must stay running!
# Access ComfyUI interface: http://127.0.0.1:8188
```

**ğŸš¨ Before Running main.py:**
1. âœ… Start ComfyUI server: `python main.py` in ComfyUI folder
2. âœ… Verify server running: Visit http://127.0.0.1:8188
3. âœ… Check model loaded: SDXL should appear in ComfyUI interface
4. âœ… Test workflow: Load `workflow/prompt_ultra_quality.json`

### **3. Python Environment Setup**
```bash
# Clone repository
git clone https://github.com/ispeedbiz/AutoYT-Advance.git
cd AutoYT-Advance

# Create Python 3.11 virtual environment
python3.11 -m venv venv311
source venv311/bin/activate  # On Windows: venv311\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

### **3. Configuration**
```bash
# Copy environment template
cp env.example .env

# Edit .env with your API keys:
# OPENAI_API_KEY=your_openai_api_key
# ELEVENLABS_API_KEY=your_elevenlabs_api_key  
# HINDI_VOICE_ID=your_hindi_voice_id
# ENGLISH_VOICE_ID=your_english_voice_id (optional)
```

### **4. Google Services Setup**
1. Download `service_account.json` for Google Sheets API
2. Download `client_secret.json` for YouTube API
3. Run authentication: `python -c "from utils import main; main()"`

### **5. Verification**
```bash
python verify_setup.py
```

## ğŸ¬ Usage

### **Basic Usage**

**ğŸ”¥ Quick Start (2 Terminal Setup):**

**Terminal 1 - Start ComfyUI Server:**
```bash
cd ComfyUI
python main.py --listen 127.0.0.1 --port 8188
# Keep this running! âœ… Server must stay active
```

**Terminal 2 - Run Video Generation:**
```bash
cd AutoYT-Advance
source venv311/bin/activate

# Verify ComfyUI is running
curl http://127.0.0.1:8188 || echo "âŒ Start ComfyUI first!"

# Run the pipeline
python main.py
```

**âš¡ Pro Tip:** Set up ComfyUI as a service for automatic startup:
```bash
# Create systemd service (Linux)
sudo nano /etc/systemd/system/comfyui.service

# Or use screen/tmux for persistent sessions
screen -S comfyui
cd ComfyUI && python main.py --listen 127.0.0.1 --port 8188
# Ctrl+A, D to detach
```

### **Caption Features**
The system now supports burned-in captions:
- **Automatic font selection** based on script language
- **Hindi scripts**: Noto Sans Devanagari font
- **English scripts**: Arial Bold font
- **Positioning**: Bottom center with semi-transparent background
- **Integration**: Seamlessly embedded in final videos

### **Advanced Features**

#### **Video Interpolation**
```python
from video_interpolation import create_interpolated_video

success = create_interpolated_video(
    image_paths=["scene1.png", "scene2.png"],
    audio_path="narration.mp3",
    output_path="final_video.mp4",
    interpolation_method="rife"  # or "dain"
)
```

#### **LLM Video Generation**
```python
from llm_video_generator import generate_video_plan

video_plan = generate_video_plan(
    topic="The Power of Morning Routines",
    tone="Motivational",
    duration="5 minutes",
    audience="Young professionals",
    highlights="Productivity, mental health, success habits",
    openai_api_key="your_api_key"
)
```

#### **Automated Feedback Loop**
```python
from automated_feedback_loop import create_feedback_loop

feedback_loop = create_feedback_loop(
    openai_api_key="your_api_key",
    max_attempts=3,
    quality_threshold=0.7
)
```

## ğŸ”§ Project Structure

```
Youtube_auto/
â”œâ”€â”€ main.py                      # Main pipeline orchestrator
â”œâ”€â”€ utils.py                     # Core utilities & caption functions
â”œâ”€â”€ prompt_utils.py              # Advanced prompt generation
â”œâ”€â”€ quality_filter.py            # Quality control system
â”œâ”€â”€ video_interpolation.py       # RIFE/DAIN interpolation
â”œâ”€â”€ llm_video_generator.py       # LLM video planning
â”œâ”€â”€ automated_feedback_loop.py   # Self-improving feedback
â”œâ”€â”€ music_selector.py            # Intelligent music selection
â”œâ”€â”€ semantic_analyzer.py         # Content analysis
â”œâ”€â”€ ai_scene_detector.py         # AI-powered scene detection
â”œâ”€â”€ comfyui_integration/         # Image generation
â”œâ”€â”€ workflow/                    # ComfyUI workflows
â”œâ”€â”€ backgrounds/                 # Background music files
â”œâ”€â”€ docs/                        # Documentation
â”œâ”€â”€ archive/                     # Legacy code and experiments
â”œâ”€â”€ requirements.txt             # Python dependencies
â”œâ”€â”€ env.example                  # Environment template
â””â”€â”€ README.md                    # This file
```

## ğŸ¯ Current Status

### âœ… **Working Features**
- âœ… Script generation (Hindi/English)
- âœ… Ultra-quality image generation
- âœ… Professional audio synthesis
- âœ… Background music integration
- âœ… Video assembly and upload
- âœ… Burned-in captions (Hindi/English)
- âœ… Automated feedback system
- âœ… Quality control pipeline
- âœ… Google Sheets integration
- âœ… YouTube API upload

### ğŸ”§ **Technical Status**
- âœ… Python 3.11 compatibility confirmed
- âœ… moviepy 1.0.3 working (caption support)
- âœ… All dependencies stable
- âœ… ComfyUI integration operational
- âœ… Background music volume optimized
- âœ… Feedback loop structure implemented

## ğŸš¨ Troubleshooting

### **moviepy Issues**
- **Problem**: `ModuleNotFoundError: No module named 'moviepy.editor'`
- **Solution**: Use Python 3.11 + moviepy 1.0.3
- **Command**: `pip install moviepy==1.0.3`

### **ComfyUI Issues**
- **Problem**: `Connection refused` or `ComfyUI not responding`
- **Solution**: 
  ```bash
  # Check if ComfyUI server is running
  curl http://127.0.0.1:8188 || echo "ComfyUI server not running"
  
  # Restart ComfyUI server
  cd ComfyUI
  python main.py --listen 127.0.0.1 --port 8188
  ```
- **Problem**: `Model not loaded` or generation fails
- **Solution**: Ensure SDXL model is in `ComfyUI/models/checkpoints/`
- **Problem**: `Image generation timeout`
- **Solution**: Increase `max_wait_sec` in `comfyui_integration/generate_image.py`

### **Caption Issues**
- **Problem**: `ImageMagick not found`
- **Solution**: `brew install imagemagick` (macOS) or `sudo apt-get install imagemagick` (Linux)

### **Audio Issues**
- **Problem**: pydub not working
- **Solution**: Use Python 3.11 (pyaudioop compatibility)

## ğŸ“ Support

For issues and questions:
1. Check the troubleshooting section above
2. Verify your Python version: `python --version` (should be 3.11.x)
3. Ensure virtual environment is activated
4. Review generated logs in `videos/` folders

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ’° Cost Analysis

### **Quick Cost Breakdown for 2-Minute Video**

| Component | Cost per Video | Monthly (30 videos) | Type |
|-----------|----------------|---------------------|------|
| **OpenAI GPT-4** (Script + Prompts) | $0.15 - $0.25 | $4.50 - $7.50 | AI Service |
| **ElevenLabs TTS** (Voice) | $0.18 - $0.30 | $5.40 - $9.00 | AI Service |
| **OpenAI DALL-E** (Thumbnail) | $0.04 | $1.20 | AI Service |
| **ComfyUI** (Scene Images) | $0.00 | $0.00 | **FREE** (Local) |
| **Local Processing** | $0.10 - $0.20 | $3.00 - $6.00 | Hardware |
| **Software & Tools** | $0.00 | $0.00 | **FREE** (Open Source) |
| **TOTAL** | **$0.50 - $1.39** | **$15.00 - $41.70** | |

### **Value Comparison**
- **Traditional Production**: $100-500 per video, 8-16 hours
- **Our Pipeline**: $0.50-1.39 per video, 10-15 minutes
- **Savings**: 99% cost reduction, 95% time savings

ğŸ“Š **[View Detailed Cost Analysis](COST_ANALYSIS.md)** - Complete breakdown with ROI calculations, scaling economics, and optimization strategies.

---

## DISCLAIMER

This channel uses AI-generated and public-domain content for educational use. Book summaries and visuals follow Indian copyright fair use policy (Â§52).

## ğŸ‘¨â€ğŸ’» Contributors

Made with â¤ï¸ for Indian creators. **Back to Zero YouTube** 

**Connect with the Creator:**
- ğŸ‘” **LinkedIn**: [Jagdish Lade](https://www.linkedin.com/in/jagdishlade/)
- ğŸ¥ **YouTube Channel**: [Subscribe & Support](https://www.youtube.com/@JagdishLade)

## ğŸ“œ License

MIT â€” free to use, modify, and contribute.

**Ready to create viral YouTube content with AI automation! ğŸš€**